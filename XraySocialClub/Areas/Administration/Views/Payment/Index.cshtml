@model IEnumerable<Payment>

@* 
https://stackoverflow.com/questions/979532/how-to-get-the-current-route-id-within-a-view-from-the-url-asp-net-mvc -- TroySteven *@

@{
  var memberId = @Url.ActionContext.RouteData.Values["id"];
}

<div class="px-4 py-5 my-5 text-center">
  <h1 class="display-5 fw-bold">Payment Record</h1>
</div>

@{
  if (TempData["Success"] != null)
  {
    <div class="alert alert-success" role="alert">
      @TempData["Success"]
    </div>
  }
}

<a class="btn btn-primary mb-3" asp-action="Create" asp-route-id="@memberId">Add Payment</a>

<div class="card p-4 shadow-lg">
  <div class="class-body">
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th scope="col">Payment ID</th>
          <th scope="col">Amount</th>
          <th scope="col">Date Paid</th>
          <th scope="col">Type</th>
          <th scope="col">Notes</th>
        </tr>
      </thead>
      <tbody>
        @foreach (var m in Model)
        {
          <tr>
            <th scope="row">@m.Id</th>
            <td>@m.Amount</td>
            <td>@m.DatePaid</td>
            <td>@m.Type</td>
            <td>@m.Notes</td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>